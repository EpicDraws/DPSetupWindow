<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>DPSetupWindow by danpalmer</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>DPSetupWindow</h1>
        <p>Classes for creating an Installer.app like setup process from a set of view controllers.</p>

        <p class="view"><a href="https://github.com/danpalmer/DPSetupWindow">View the Project on GitHub <small>danpalmer/DPSetupWindow</small></a></p>


        <ul>
          <li><a href="https://github.com/danpalmer/DPSetupWindow/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/danpalmer/DPSetupWindow/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/danpalmer/DPSetupWindow">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>DPSetupWindow</h2>

<p>DPSetupWindow makes it easy to add setup style modal sheets or windows to your
Objective-C and Cocoa applications on Mac OS. Simply create a set of view
controllers and DPSetupWindow will take care of moving between them, as each
performs its validation and allows the process to continue.</p>

<p><img src="http://f.cl.ly/items/2h3j241C1p0K1O423i0o/DPSetupWindow.png" alt="Example Setup Window"></p>

<p>Inspriation for this was taken from Mac OS installer applications and Mail.app's
account configuration process.</p>

<h3>Usage</h3>

<p><code>DPSetupWindow</code> is designed to be very easy to use. The example application
distributed with the source code should provide enough documentation on how to
use it, but here is an overview.</p>

<p>Firstly create the setup window with an array of view controller for it to use.
A callback must also be provided, which will be called when the window closes,
passing back a boolean representing whether the user reached the end of the
process or not.</p>

<div class="highlight"><pre><span class="n">DPSetupWindow</span> <span class="o">*</span><span class="n">setupFlow</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DPSetupWindow</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithViewControllers:</span> <span class="err">@</span><span class="p">[</span>
    <span class="n">firstViewController</span><span class="p">,</span>
    <span class="n">secondViewController</span><span class="p">,</span>
    <span class="n">thirdViewController</span>
<span class="p">]</span> <span class="nl">completionHandler:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="kt">BOOL</span> <span class="n">completed</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">setupFlow</span> <span class="nl">orderOut:</span><span class="n">self</span><span class="p">];</span>
<span class="p">}];</span>
</pre></div>

<p>There are two ways to use the setup window, either as a modal sheet where the
developer can control all aspects as would be normal, or as a standard window.</p>

<div class="highlight"><pre><span class="c1">// Modal sheet</span>
<span class="p">[[</span><span class="n">NSApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="nl">beginSheet:</span><span class="n">setupFlow</span> 
                               <span class="nl">modalForWindow:</span><span class="p">[</span><span class="n">self</span> <span class="n">window</span><span class="p">]</span>
                                <span class="nl">modalDelegate:</span><span class="nb">nil</span>
                               <span class="nl">didEndSelector:</span><span class="nb">NULL</span>
                                  <span class="nl">contextInfo:</span><span class="nb">NULL</span><span class="p">];</span>

<span class="c1">// Regular window</span>
<span class="p">[[</span><span class="n">self</span> <span class="n">setupFlow</span><span class="p">]</span> <span class="nl">makeKeyAndOrderFront:</span><span class="n">self</span><span class="p">];</span>
</pre></div>

<p>The window can be customised with a background image, the default being your
application's icon.</p>

<div class="highlight"><pre><span class="p">[</span><span class="n">setupFlow</span> <span class="nl">setBackgroundImage:</span><span class="p">[</span><span class="n">NSImage</span> <span class="nl">imageNamed:</span><span class="s">@"NSUserAccounts"</span><span class="p">]];</span>
</pre></div>

<p>Each view controller in the setup process must implement the optional
<code>DPSetupWindowStageViewController</code> protocol.</p>

<p>This protocol gives the view controller the ability to stop the user from going
backwards or forwards by implementing the <code>canContinue</code> and <code>canGoBack</code> boolean
properties. Button titles can also be overridden, for example you may want the
last stage to say "Finish" instead of "Continue", in which case the last view
controller should contain the following.</p>

<div class="highlight"><pre><span class="k">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">continueButtonTitle</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">@"Finish"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>In order to make the setup process consistent with other similar windows, a
fixed size of window is used, and therefore the views owned by the view 
controllers have a fixed size of 400Ã—330 points.</p>

<p>View controllers can implement <code>-setSetupWindow:</code> either as a method or a
synthesized property in order to access the setup window. This allows them to
change the setup process or control it in code as it is being used. For example,
the first view controller will add a different controller to be used in the next
stage when <code>willProgressToNextStage</code> is called depending on whether the user
selects 'basic' or 'advanced' setup.</p>

<p>Being able to programmatically advance or revert the setup process may be useful
in the case of contacting web services for authentication. An intermediate 
'loading' controller may be used where the continue and back buttons are
disabled, this controller can move to the appropriate stage based on a response
from a web service.</p>

<h3>Licence (MIT)</h3>

<p>Copyright (c) 2012 Dan Palmer</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/danpalmer">danpalmer</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>